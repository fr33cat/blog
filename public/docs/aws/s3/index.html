<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="How to Find and Exploit Misconfigured S3 Buckets #  Amazon Simple Storage Service (S3) is a popular cloud storage service that allows users to store and retrieve objects from anywhere on the web. However, S3 buckets can also be a source of security vulnerabilities if they are not configured properly. In this blog post, we will show you how to find and exploit misconfigured S3 buckets using some common tools and techniques.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="How to Find and Exploit Misconfigured S3 Buckets #  Amazon Simple Storage Service (S3) is a popular cloud storage service that allows users to store and retrieve objects from anywhere on the web. However, S3 buckets can also be a source of security vulnerabilities if they are not configured properly. In this blog post, we will show you how to find and exploit misconfigured S3 buckets using some common tools and techniques." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://fr33cat.github.io/docs/aws/s3/" />

<title>S3 | fr33cat.github.io</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.e7f37fe6627bb0082cb1b0b9ae15c3938017238a72448c8464c197a5611ed191.css" integrity="sha256-5/N/5mJ7sAgssbC5rhXDk4AXI4pyRIyEZMGXpWEe0ZE=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.9940b298edd83fe6864ed72d3904b6f2a3d8143ca575f68b6ab09680b5f4591e.js" integrity="sha256-mUCymO3YP&#43;aGTtctOQS28qPYFDyldfaLarCWgLX0WR4=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>fr33cat.github.io</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-71735f978fdcae7d491e70c2ce0ff094" class="toggle" checked />
    <label for="section-71735f978fdcae7d491e70c2ce0ff094" class="flex justify-between">
      <a href="/docs/aws/" class="">AWS</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/ec2/" class="">Ec2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/lambda/" class="">Lambda</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/s3/" class="active">S3</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-683f6f0ae678ece99a2caa1bc67a8eb5" class="toggle"  />
    <label for="section-683f6f0ae678ece99a2caa1bc67a8eb5" class="flex justify-between">
      <a href="/docs/azure/" class="">AZURE</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-310247f13514510bfdda8e074fdf55f3" class="toggle"  />
    <label for="section-310247f13514510bfdda8e074fdf55f3" class="flex justify-between">
      <a href="/docs/python-snippets/" class="">Python Snippets</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/python-snippets/email-notifications/" class="">Email Notifications</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/posts/"  >
        Blog
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var menu=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>S3</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#how-to-find-and-exploit-misconfigured-s3-buckets">How to Find and Exploit Misconfigured S3 Buckets</a>
      <ul>
        <li><a href="#finding-s3-buckets">Finding S3 Buckets</a></li>
        <li><a href="#exploiting-s3-buckets">Exploiting S3 Buckets</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="how-to-find-and-exploit-misconfigured-s3-buckets">
  How to Find and Exploit Misconfigured S3 Buckets
  <a class="anchor" href="#how-to-find-and-exploit-misconfigured-s3-buckets">#</a>
</h1>
<p>Amazon Simple Storage Service (S3) is a popular cloud storage service that allows users to store and retrieve objects from anywhere on the web. However, S3 buckets can also be a source of security vulnerabilities if they are not configured properly. In this blog post, we will show you how to find and exploit misconfigured S3 buckets using some common tools and techniques.</p>
<h2 id="finding-s3-buckets">
  Finding S3 Buckets
  <a class="anchor" href="#finding-s3-buckets">#</a>
</h2>
<p>One of the first steps in pentesting AWS S3 is to identify potential targets. There are several ways to find S3 buckets, such as:</p>
<ul>
<li>Using public tools like <a href="https://buckets.grayhatwarfare.com/">Grayhat Warfare</a> or <a href="https://github.com/eth0izzle/bucket-stream">Bucket Stream</a> that scan for publicly accessible buckets</li>
<li>Using subdomain enumeration tools like <a href="https://github.com/OWASP/Amass">Amass</a> or <a href="https://github.com/projectdiscovery/subfinder">Subfinder</a> that can reveal bucket names based on DNS records</li>
<li>Using wordlists or brute force tools like <a href="https://github.com/jordanpotti/AWSBucketDump">AWSBucketDump</a> or <a href="https://github.com/sa7mon/S3Scanner">S3Scanner</a> that can guess bucket names based on common patterns</li>
<li>Using metadata analysis tools like <a href="https://www.elevenpaths.com/labstools/foca/index.html">FOCA</a> or <a href="https://github.com/laramies/metagoofil">Metagoofil</a> that can extract bucket names from documents or images hosted on S3</li>
</ul>
<p>Once you have a list of potential bucket names, you can use the AWS CLI tool or a web browser to check if they exist and what permissions they have. For example, using the AWS CLI tool, you can run the following command:</p>
<p><code>aws s3 ls s3://bucket-name --no-sign-request</code></p>
<p>This will list the contents of the bucket if it exists and is publicly readable. If you get an error message like <code>Access Denied</code> or <code>AllAccessDisabled</code>, it means that the bucket either does not exist or is not publicly accessible.</p>
<h2 id="exploiting-s3-buckets">
  Exploiting S3 Buckets
  <a class="anchor" href="#exploiting-s3-buckets">#</a>
</h2>
<p>Depending on the permissions of the bucket, you may be able to perform different actions on it, such as:</p>
<ul>
<li>
<p>Reading objects: If the bucket has <code>ListObjects</code> and <code>GetObject</code> permissions enabled for everyone, you can download any object from it using the AWS CLI tool or a web browser. For example:</p>
<p><code>aws s3 cp s3://bucket-name/object-name . --no-sign-request</code></p>
<p>This will copy the object to your current directory.</p>
</li>
<li>
<p>Writing objects: If the bucket has <code>PutObject</code> permission enabled for everyone, you can upload any object to it using the AWS CLI tool or a web browser. For example:</p>
<p><code>aws s3 cp local-file s3://bucket-name/object-name --no-sign-request</code></p>
<p>This will upload your local file to the bucket with the specified name.</p>
</li>
<li>
<p>Deleting objects: If the bucket has <code>DeleteObject</code> permission enabled for everyone, you can delete any object from it using the AWS CLI tool or a web browser. For example:</p>
<p><code>aws s3 rm s3://bucket-name/object-name --no-sign-request</code></p>
<p>This will delete the object from the bucket.</p>
</li>
<li>
<p>Modifying permissions: If the bucket has <code>PutBucketAcl</code> permission enabled for everyone, you can change its access control list (ACL) using
the AWS CLI tool or a web browser. For example:</p>
<p><code>aws s3api put-bucket-acl --bucket bucket-name --acl private --no-sign-request</code></p>
<p>This will make the bucket private and remove any public access.</p>
</li>
</ul>
<p>Exploiting misconfigured S3 buckets can lead to various impacts, such as data leakage, data tampering, data loss, denial of service,
or even code execution if malicious files are uploaded and executed by other services that use S3 as a source.</p>
<h2 id="conclusion">
  Conclusion
  <a class="anchor" href="#conclusion">#</a>
</h2>
<p>AWS S3 is a widely used cloud storage service that offers many benefits but also poses many risks if not configured properly. As pentesters,
we should always look for misconfigured S3 buckets as part of our reconnaissance and exploitation phases. As defenders,
we should always follow best practices for securing our S3 buckets and monitor them regularly for any unauthorized access.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function select(element){const selection=window.getSelection();const range=document.createRange();range.selectNodeContents(element);selection.removeAllRanges();selection.addRange(range);}
document.querySelectorAll("pre code").forEach(code=>{code.addEventListener("click",function(event){if(window.getSelection().toString()){return;}
select(code.parentElement);if(navigator.clipboard){navigator.clipboard.writeText(code.parentElement.textContent);}});});})();</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#how-to-find-and-exploit-misconfigured-s3-buckets">How to Find and Exploit Misconfigured S3 Buckets</a>
      <ul>
        <li><a href="#finding-s3-buckets">Finding S3 Buckets</a></li>
        <li><a href="#exploiting-s3-buckets">Exploiting S3 Buckets</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












